<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recuperar Contraseña - ZUARSE</title>
    <link rel="stylesheet" href="login-style.css">
</head>
<body>
    <div class="login-container">
        <div class="login-box">
            <div class="login-header">
                <h1>ZUARSE</h1>
                <p>Recuperar Acceso</p>
            </div>

            <div class="tabs-login" style="margin-bottom: 20px;">
                <button class="tab-login active" data-tab="usuario-rec">Usuario Normal</button>
                <button class="tab-login" data-tab="admin-rec">Administrador</button>
            </div>

            <div id="paso-1" class="paso-recuperacion">
                <h2>Paso 1: Ingresa tu Email</h2>
                <form id="form-email-recuperacion">
                    <div class="form-group">
                        <label for="email-recuperacion">Email:</label>
                        <input type="email" id="email-recuperacion" placeholder="tu@email.com" required>
                    </div>
                    <button type="submit" class="btn-login">Continuar</button>
                </form>
                <div class="login-footer">
                    <p><a href="login.html" class="link-tienda">Volver a Login</a></p>
                </div>
            </div>

            <div id="paso-1-admin" class="paso-recuperacion" style="display: none;">
                <h2>Paso 1: Ingresa tu Usuario Admin</h2>
                <form id="form-usuario-recuperacion">
                    <div class="form-group">
                        <label for="usuario-recuperacion">Usuario Administrador:</label>
                        <input type="text" id="usuario-recuperacion" placeholder="admin" required>
                    </div>
                    <button type="submit" class="btn-login">Continuar</button>
                </form>
                <div class="login-footer">
                    <p><a href="login.html" class="link-tienda">Volver a Login</a></p>
                </div>
            </div>

            <div id="paso-2" class="paso-recuperacion" style="display: none;">
                <h2>Paso 2: Responde la Pregunta de Seguridad</h2>
                <div id="pregunta-seguridad-container">
                    <p id="pregunta-texto"></p>
                    <div class="form-group">
                        <label for="respuesta-seguridad">Tu Respuesta:</label>
                        <input type="text" id="respuesta-seguridad" placeholder="Escribe tu respuesta" required>
                    </div>
                    <button type="button" onclick="verificarRespuesta()" class="btn-login">Verificar</button>
                </div>
                <button type="button" onclick="volverPaso1()" class="btn-volver-recuperacion">← Volver</button>
            </div>

            <div id="paso-3" class="paso-recuperacion" style="display: none;">
                <h2>Paso 3: Establece Nueva Contraseña</h2>
                <form id="form-nueva-password">
                    <div class="form-group">
                        <label for="nueva-password">Nueva Contraseña:</label>
                        <input type="password" id="nueva-password" placeholder="••••••••" required>
                        <small class="password-reqs">Mínimo 6 caracteres</small>
                    </div>
                    <div class="form-group">
                        <label for="confirmar-password">Confirmar Contraseña:</label>
                        <input type="password" id="confirmar-password" placeholder="••••••••" required>
                    </div>
                    <button type="submit" class="btn-login">Cambiar Contraseña</button>
                </form>
                <button type="button" onclick="volverPaso1()" class="btn-volver-recuperacion">← Volver</button>
            </div>

            <div id="paso-4" class="paso-recuperacion" style="display: none;">
                <div class="exito-message">
                    <h2>✅ Contraseña Cambiad Exitosamente</h2>
                    <p>Tu contraseña ha sido actualizada correctamente.</p>
                    <a href="login.html" class="btn-login" style="text-align: center; display: block; margin-top: 20px;">Ir a Login</a>
                </div>
            </div>
        </div>

        <!-- MENSAJE DE ERROR -->
        <div id="error-message" class="error-message" style="display: none;">
            <span id="error-text"></span>
            <button class="btn-close-error">&times;</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.0/crypto-js.min.js"></script>
    <script src="recuperar-password.js"></script>
</body>
</html>
